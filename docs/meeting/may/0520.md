---
title: 0520 íšŒì˜ë¡
layout: default
nav_order: 2
parent: 5ì›”
grand_parent: íšŒì˜ë¡
---

### ğŸ—“ï¸Â íšŒì˜ ì¼ì

2024.05.20

### ğŸ•› ì‘ì„±ì¼

2024.05.25

### ğŸš©Â íšŒì˜ ì¥ì†Œ

ì¸ì²œëŒ€í•™êµ

### ğŸ¤Â íšŒì˜ ì°¸ì„ì

êµ¬ë¯¼ì„±, ë¥˜ì§€ìˆ˜, ë°•ì£¼ë¯¸, í•œì˜ˆì§€

### ğŸ™Â ì‘ì„±ì

í•œì˜ˆì§€

## ğŸ“£ ì–´ì  ë‹¤

- ì½”ë“œ í•©ì¹˜ê¸°
- ë¦¬ëª¨ì»¨ ì‚¬ìš©ì„ ìœ„í•´ lirc ë¼ì´ë¸ŒëŸ¬ë¦¬ Python ë°”ì¸ë”© ì‹œë„
- ê³¨í”„ ê³µ ìƒ‰ê¹” ì¡ê¸°

## âœï¸íšŒì˜ ë‚´ìš©

1. **ì½”ë“œ í•©ì¹˜ê¸°**

   - ê¸°ì¡´ì— ì—¬ëŸ¬ íŒŒì¼ë¡œ ë‚˜ë‰˜ì–´ì ¸ ìˆë˜ ì½”ë“œë¥¼ 2ê°œì˜ ì½”ë“œ íŒŒì¼ë¡œ í•©ì³¤ë‹¤.
   - [final_code.py](https://github.com/TECH-PIONEERS/capstone-project/blob/main/opencv/final_code.py)
   - [utils.py](https://github.com/TECH-PIONEERS/capstone-project/blob/main/opencv/utils.py)

     <br/><br/>

2. **ë¦¬ëª¨ì»¨ ì‚¬ìš©ì„ ìœ„í•´ lirc ë¼ì´ë¸ŒëŸ¬ë¦¬ Python ë°”ì¸ë”© ì‹œë„**

   - **íŒŒì¼ ìƒì„± (/home/tech-pioneers/.lircrc)**
      
      ```
      begin
      prog = rc
      button = KEY_0
      config = 0000
      end
      
      begin
      prog = rc
      button = KEY_1
      config = 1111
      end
      
      begin
      prog = rc
      button = KEY_2
      config = 2222
      end
      
      ```
      
   - **LIRC ì‹œì‘**
      
      `sudo systemctl stop lircd`Â í˜¹ì€Â `sudo /etc/init.d/lircd start`
      
   - **í…ŒìŠ¤íŠ¸ ì½”ë“œ**
      
      ```python
      import lirc
      import time
      
      sockid = lirc.init( "rc", blocking=False)
      
      try:
      while True:
      button = lirc.nextcode()
      if button != []:
      print( button )
      time.sleep( 0.2 )
      except KeyboardInterrupt:
      lirc.deinit()
      
      ```
      
   - **ì—ëŸ¬ ë°œìƒ**
      
      Traceback (most recent call last):
      
      File "", line 1, in
      
      AttributeError: module 'lirc' has no attribute 'init'
      
   - **ë¬¸ì œ ìƒí™©: lirc ë¼ì´ë¸ŒëŸ¬ë¦¬**
      
      ```
         >>> import lirc
         >>> dir(lirc)
         ['Client', 'LircdConnection', '__all__', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', 'client', 'connection', 'exceptions', 'reply_packet_parser']
         >>> clinet = lirc.Client()
         >>> dir(clinet)
         ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_connection', '_last_send_start_key', '_last_send_start_remote', '_send_command', 'close', 'driver_option', 'list_remote_keys', 'list_remotes', 'send_once', 'send_start', 'send_stop', 'set_transmitters', 'simulate', 'start_logging', 'stop_logging', 'version']
      
      ```
      
      <br/><br/>

   - **python-lircë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì‹œë„ 1**
      
      - [python3-lirc_1.2.1-1_armhf.deb](https://github.com/tompreston/python-lirc/releases/download/v1.2.1/python3-lirc_1.2.1-1_armhf.deb)Â ë¥¼ ë‹¤ìš´ë°›ê³ Â `sudo dpkg -i python3-lirc_1.2.1-1_armhf.deb`Â ì‹¤í–‰
      
      - ê²°ê³¼: ê°™ì€ ì—ëŸ¬ ë°œìƒ
      
   - **cthyon ì„¤ì¹˜**

      - `sudo apt-get installÂ cython3` ì„¤ì¹˜

      - ê²°ê³¼: ê°™ì€ ì—ëŸ¬ ë°œìƒ

      <br/><br/>

   - **python-lircë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì‹œë„ 2**
      
      - `git clone https://github.com/tompreston/python-lirc.git`
      - `cd python-lirc/`
      - `make py3 && sudo python3 [setup.py](http://setup.py/) install`
      - ê²°ê³¼: ì—ëŸ¬ ë°œìƒìœ¼ë¡œ ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ

      <br/><br/>
      
   - **python-lircë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì‹œë„ 3: evdev ì‚¬ìš© ì‹œë„ ì—ëŸ¬**
      
      - tech-pioneers@raspberrypi:~ $ `sudo apt-get install evtest`
         Reading package lists... Done
         Building dependency tree... Done
         Reading state information... Done
         You might want to run 'apt --fix-broken install' to correct these.
         The following packages have unmet dependencies:
         python-lirc : Depends: python (>= 2.7) but it is not installable
         Depends: python (< 2.8) but it is not installable
         E: Unmet dependencies. Try 'apt --fix-broken install' with no packages (or specify a solution).
      - ê²°ê³¼: ì—ëŸ¬ ë°œìƒìœ¼ë¡œ ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ

      <br/><br/>
      
   - **Python ì‹œë„ ì»¨ì…‰**

      subprocess ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì—¬ irw ëª…ë ¹ì„ í˜¸ì¶œí•˜ê³ , ì´ë¥¼ í†µí•´ ë¦¬ëª¨ì»¨ ì‹ í˜¸ë¥¼ ì½ëŠ” ë°©ë²•

   - **1. í…ŒìŠ¤íŠ¸ ì½”ë“œ**

      ```python
      import subprocess
      # irw ëª…ë ¹ì„ subprocessë¡œ ì‹¤í–‰
      proc = subprocess.Popen(['irw'], stdout=subprocess.PIPE, stderr=subprocess.PIPE)

      try:
         while True:
            # ë¦¬ëª¨ì»¨ ì‹ í˜¸ ìˆ˜ì‹ 
            line = proc.stdout.readline()
            if line:
                  # ìˆ˜ì‹ ëœ ì‹ í˜¸ ì¶œë ¥
                  print("Received line:", line.decode('utf-8').strip())
      except KeyboardInterrupt:
         print("Exiting...")
      finally:
         # í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
         proc.terminate()
         proc.wait()

      ```

   - **2. ê²°ê³¼**: ë¦¬ëª¨ì»¨ ì‹ í˜¸ëŠ” ë°›ì„ ìˆ˜ ìˆì„ ìˆ˜ ìˆë‹¤.

      `tech-pioneers@raspberrypi:~ $ python3 test_remote.py
      Received line: 0000000000ffa25d 00 KEY_0 TECH-PIONEERS
      Received line: 0000000000ff629d 00 KEY_1 TECH-PIONEERS
      Received line: 0000000000ffe21d 00 KEY_2 TECH-PIONEERS`

   - **ìë£Œ**
      - lircd ì„¤ëª… ì‚¬ì´íŠ¸:Â https://www.lirc.org/html/lircd.html
      - Piì—ì„œ ì—¬ëŸ¬ ë°©ì‹ìœ¼ë¡œ LIRC íŒŒì´ì¬ ë°”ì¸ë”© ì‹œë„í•œ ì‚¬ì´íŠ¸:Â https://www.sigmdel.ca/michel/ha/opi/ir_02_en.html
      - LIRC Python Package ì„¤ëª… ì‚¬ì´íŠ¸ :Â https://lirc.readthedocs.io/en/latest/usage.html
      - evdev ì‚¬ìš© ì˜ˆì œ:Â https://ignorantofthings.com/receiving-infrared-on-the-raspberry-pi-with-python/

     <br/><br/>

2. **ê³¨í”„ ê³µ ìƒ‰ê¹” ì¡ê¸°**

   - ë¹¨ê°„ê³µ ìƒ‰ìƒ
      colorLower = ( 160, 240, 220) # setting for red
      colorUpper = ( 180, 255, 255) # BGR

   - ìƒ‰ìƒ ì¡ëŠ” ë…¸í•˜ìš°ë¡œëŠ”, ì‹œì‘ì„ lower 0, 0, 0, higher 255, 255, 255ì—ì„œ í•œ ìƒ‰ìƒì‹ ë²”ìœ„ë¥¼ ì¡°ê¸ˆì‹ ì¤„ì—¬ ë‚˜ê°€ë©´ ì‰½ê²Œ ìƒ‰ìƒì„ ì¡ì„ ìˆ˜ ìˆë‹¤.

   - opencvì˜ colorë””ë ‰í† ë¦¬ ì•ˆ color_find_tool.pyë¥¼ í™œìš©í•˜ë©´ ì‰½ê²Œ ì»¬ëŸ¬ ê²€ì¶œ ê°€ëŠ¥í•˜ë‹¤.

   - `gui_color_find_tool.py`ë¥¼ í™œìš©í•˜ë©´ ë™ì¼í•œ ì‘ì—…ì„ guií™˜ê²½ì—ì„œ ì†ì‰½ê²Œ ê°€ëŠ¥í•˜ë‹¤.

     <br/><br/>